var dog = `
          .o8                          
         "888                          
     .oooo888   .ooooo.   .oooooooo    
    d88' '888  d88' '88b 888' '8b     
    888   888  888   888 888   888     
    888   888  888   888 '88bod8P'     
    'Y8bod88P" 'Y8bod8P' '8oooooo.     
                         d"     YD     
                         "Y88888P'     
                                       
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@***,@@@@@@@@@@@@
@@@@@@@@@@@@/,,,...,,////**...,@@@@@@@@
@@@@@@@@#... ... *(/*,,.@&(**,,,@@@@@@@
@@@@@@@@ . . .../(///*,.,&@#*...@@@@@@@
@@@@@@@@@@... ..(///*,.   %&/   @@@@@@@
@@@@@@@@@@.... .,/,. *  . ,&&(,.@@@@@@@
@@@@@@,&@#(/.,,.,/*,,...,&&., . &@@@@@@
@@@@%..@@#(/*(/*///*,.*(@@&&&**.&&@@@@@
@%/(@.,&@@%(&@///(*,..,(@@@@&*,./&@@@@@
//@@@,.,/@@&@&&*.,  ..,*&&&@%.. ,#@@@@@
*/@@@@,,.,&@@@%&%* , ,(&@@&*##%##@@@@@@
//(@@@@@.,..*@@&&%#*,,..//%&%#%%%@@@@@@
///#&@@@@@.,....(%%%#*..##%#,%(%@@@@@@@
/(//#@@@@@@@@# .     .@@@@@@@@@@@@@@@@@
//((#@@@@@@@@&@&%%#(##@@@@@@@@@@@@@@@@@
/(/((@@@@@@@@&&&&%###%@@@@@@@@@@@@@@@@@
//(/(&@@@@@@&&%#%####%@@@@@@@@@@@@@@@@@
///(((@@@@@@&&%%%%##%#@@@@@@@@@@@@@@@@@
//(/((((@@&&&%#%&%###%@@@@@@@@@@@@@@@@@
`;

var cat = `
                              .        
                            .o8        
       .ooooo.   .oooo.   .o888oo      
      d88' '"Y8 'P  )88b    888        
      888        .oP"888    888        
      888   .o8 d8(  888    888 .      
      'Y8bod8P' 'Y888""8o   "888"      
                                       
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@*,*@@@@@@,*/@@@@@@
@@@@@@@@@@@@@@@@@@@@@...,*##(*...@@@@@@
@@@@@@@@@@@@@@@@@@@@@. * ,,/, ., @@@@@@
@@@@@@@@@@@@@@@@@@@@@#/,***./***(@@@@@@
@@@@@@@@@@@@@@@@@@@@@(/,,., ..,*(@@@@@@
@@@@@@@@@@@@@@@@@@@@@@/,.,,,*,.,%@@@@@@
@@@@@@@@@@@@@@@@@@@@@.**,,....,*,(@@@@@
@@@@@@@@@@@@@@@@@@@,,,,,,..     ./@@@@@
@@@@@@@@@@@@@@@@@@..,*,,, .     ,*#@@@@
@@@@@@@@@@@@@@@@@*,..*/*..     .,/#@@@@
@@@@@@@@@@@@@@@@. *,..(*,,.,.  . /&@@@@
@@@@@@@@@@@@@@@.  /.. */...,, ../(@@@@@
@@@@@@@@@@@@@@   *,*, .(/..,*  .*(@@@@@
@@@@@@@@@@@@.   .*,,,..,(*,*(,..,(@@@@@
@@@@@@@@@@   ..,/,.,,,../*,*(* ,*&@@@@@
@@@@@@*. ....@@@/, ,@*  ,*,*(*.,*@@@@@@
@@@,,....@@@@@@@/,.@@@  ./,*(,.*(@@@@@@
@@@@@@@@@@@@@@@@(, ,@@@. *(,/.,/@@@@@@@
@@@@@@@@@@@@@@@@@*./@@@@   *..*/@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@*.,*/@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@&.,/@@@@@@@@
`
// flakiness is a float between 0 and 1; higher values create a flakier API
function getPet(flakiness) {
  if(Math.random() < flakiness) {
    return "ERROR\n";
  }
  
  if(Math.random() > 0.5) {
    return dog;
  } else {
    return cat;
  }
}

// unflaky API
exports.pet = (req, res) => {
  res.send(getPet(0));
};

// flaky API
exports.pet_flaky = (req, res) => {
  res.send(getPet(0.8));
};